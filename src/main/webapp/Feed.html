<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>My Portfolio</title>
  <link rel="stylesheet" href="feed.css">
  <script src="script.js"></script>
</head>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.0/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.9.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAh50tKq3hCpvevF-UUrYyDg5kpzJ_XCT4",
    authDomain: "summer22-sps-25.firebaseapp.com",
    projectId: "summer22-sps-25",
    storageBucket: "summer22-sps-25.appspot.com",
    messagingSenderId: "471830306552",
    appId: "1:471830306552:web:9b6e1d5f76156fc077650d"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth();
  const user = auth.currentUser;

  logout_button.addEventListener('click', (e) => {
    signOut(auth)
      .then(() => {
        window.location = "index.html";
      })
      .catch((error) => {
        const errorCode = error.code;
        const errorMessage = error.message;

        alert(errorMessage);
      });
  });

  onAuthStateChanged(auth, (user) => {
    if (!user) {
      console.log('No user is signed in.');
      window.location = 'index.html';
    }
  });
</script>

<body onload="loadRecipes()">
  <div id="content">
    <div id="feed" class="flex-hor">
      <div id="left-panel">
        <div class="flex-hor space-around" id="logo-box">
          <image src="images/logo.png" alt="logo" />
          <h1>Pizzy</h1>
        </div>
        <div class="margin-auto" style="text-align: center;">
          <a href="newrecipe.html" style="color:white;cursor: pointer"><button
              id="left-create-button">Create</button></a>
        </div>
      </div>
      <div id="feed-view">
        <div class="flex-hor" style="margin-left:auto; width:max-content;">
          <a style="color:white;cursor: pointer" href="./profile.html"><button class="nav_button">Profile</button></a>
          <button id="logout_button">Log out</button>

        </div>


        <div class="flex-hor" id="recipe-box">
          <div id="left-recipe-box">
            <h1 style="text-align:center;">Chicken soup</h1>
            <img src="images/soup.png" style="height:50%;width:50%;" class="center-img" />
            <div id="tags">
              <p id="tag">veg</p>
            </div>
          </div>
          <div id="right-recipe-box">
            <p>Ingredients</p>
            <div id="ingredients">
              <p>1 cup of milk</p>
            </div>
            <div class="recipe-instruction">
              <p>Add 2 cups of Water</p>
            </div>
            <div class="recipe-instruction">
              <p>Add a cup of vegetable</p>
            </div>
            <div class="recipe-instruction">
              <p>Add 2 cups of chicken</p>
            </div>
            <div class="recipe-instruction">
              <p>Stir</p>
            </div>

            <div class="recipe-instruction">
              <p>Add 1 spoon of salt</p>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</body>

</html>